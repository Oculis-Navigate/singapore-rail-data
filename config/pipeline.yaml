pipeline:
  name: "MRT Data Pipeline"
  version: "2.0.0"
  description: "Singapore MRT/LRT station data extraction and enrichment"
  
  # Stage configurations
  stages:
    stage1_ingestion:
      enabled: true
      sources:
        - datagov
        - onemap
      cache_ttl_days: 30
      
    stage2_enrichment:
      enabled: true
      batch_size: 8
      delay_seconds: 2
      max_retries: 3
      retry_delay_seconds: 5
      sources:
        - fandom_wiki
        - openrouter_llm
        
    stage3_merger:
      enabled: true
      validation:
        schema_check: true
        completeness_check: true
        sanity_check: true
        
  # API configurations
  apis:
    onemap:
      base_url: "https://www.onemap.gov.sg/api"
      timeout: 30
      
    openrouter:
      base_url: "https://openrouter.ai/api/v1"
      model: "openai/gpt-oss-120b:free"
      timeout: 120
      max_tokens: 4000
      temperature: 0.1
      
    fandom:
      base_url: "https://singapore-mrt-lines.fandom.com/wiki"
      timeout: 30
      
  # Expected counts for validation
  expected_stations: 187
  expected_lines: 9  # NSL, EWL, CCL, DTL, NEL, TEL, BPL, SKL, PGL
  
  # Output configuration
  output:
    versioning: true
    keep_last_n_versions: 10
    symlink_latest: true
    formats:
      - json
    
  # Logging
  logging:
    level: INFO
    format: structured  # structured or simple
    
alerting:
  enabled: false  # Set to true when alerting is configured
  on_failure:
    - log
    # - email  # Add when email is configured
    # - webhook  # Add when webhook is configured